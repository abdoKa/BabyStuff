{% extends 'base.html.twig' %}
{% block stylesheets %}
<style>
    body,
    html {
        width: 100%;
    }

    .title-home {
        font-family: 'Josefin Sans Regular', sans-serif;
    }

    .card-img-top {
        width: 100%;
        height: 30vh;
        object-fit: cover;
    }

    .slide-img {
        width: 1920px;
        height: 600px;
        vertical-align: middle;
        color: transparent;
        font-size: 0;
    }

    .slide-title {
        font-family: 'Ramabhadra bold', sans-serif;
        color: black;
        float: left;
    }

    .right,
    .image {
        float: right;
    }

    .solde {
        margin-bottom: 100px;
        margin-right: 60%;
        color: red
    }



    h1,
    h2 {
        color: black;
    }

</style>

{% endblock %}
{% block body %}

<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">

        <div class="carousel-item active">
            <img src="{{ asset('accessories-adorable-baby-325867.jpg') }} " class="d-block slide-img" alt="...">
            <div class="carousel-caption d-none d-md-block">
                <h1 style="margin-left:40%;color:#000">The standard chunk of Lorem Ipsum used !! <span><i
                            class="far fa-grin-stars"></i></span>

                </h1>
            </div>
        </div>
        <div class="carousel-item">
            <img src="{{ asset('adorable-baby-blur-590471.jpg') }} " class="d-block  slide-img" alt="...">
        </div>
        <div class="carousel-item ">
            <img src="{{ asset('action-adult-adventure-701016.jpg') }}" class="  w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
                <h1 style="margin-left:40%;color:#fff">The standard chunk of Lorem Ipsum used since the 1500s is
                    reproduced below
                    for those interested.

                </h1>
            </div>
        </div>
        <div class="carousel-item ">
            <img src="{{ asset('blur-depth-of-field-female-1007773.jpg') }}" class="w-50" alt="..."
                style="float:right">
            <div class="carousel-caption d-none d-md-block">
                <h1 class="solde"> <span><i class="fas fa-shopping-cart"></span></i> JUSQU'A 50%</h1>
                <h2 style="margin-right:40%"> The standard chunk of Lorem Ipsum used since the 1500s is reproduced below
                    for those interested.

                </h2>
            </div>
        </div>


        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>

    </div>


    <!--*************************************************mailleure-produits******************************************************** -->

    <section class="mailleure-produits">
        <header>
            <h1 class="title-home"> .......Dernier Produits.......</h1>
        </header>
        <div class="container">
            <div class="row new-products">
                <!--useing slick-->
                {% for produit in produits %}
                <div class="col-sm-3 card single-product ">
                    <div class="card-body">
                        <a href="{{ path('single_product', {'slug': produit.slug }) }}">
                            <div class="product-image ">
                                <img src="{{ asset('/brows_file/' ~ produit.image) }}" alt="" class="card-img-top"><a />

                                <a href="" mthode="POST" class="add-to-favourite js-like"
                                    data-url="{{path('add_to_favorite',{'slug':produit.slug})}}">
                                    {# {% if app.user and produit.isLikedByUser(app.user)%} #}

                                    {# <i class="far fa-heart icon-change fas"></i> #}
                                    {# {% else %}  #}
                                    <i class="far fa-heart icon-change"></i>
                                    {# {% endif %}  #}
                                </a>
                            </div>
                            <div class="card-title product-title"> {{ produit.nom }} </div>
                            <div class="product-price"> {{ produit.prix }} MAD </div>
                            <a href="" class="btn btn-primary add-to-cart"
                                data-url="{{ path('add_to_cart',{'id':produit.id ,'quantity':1}) }}"><i
                                    class="fas fa-cart-plus"></i> Ajouter au
                                panier</a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    <!--*****************************************************Feartures**************************************************** -->

    <section class="feartures">
        <header>
            <h1 class="title-home"> .......Juste Pour Vous.......</h1>
        </header>

        <div class="container">
            <div class="row new-products">
                <!--useing slick-->
                {% for produit in features %}
                <div class="col-sm-3 card single-product ">
                    <div class="card-body">
                        <div class="product-image ">
                            <a href="{{ path('single_product', {'slug': produit.slug }) }}">
                                <img src="{{ asset('/brows_file/' ~ produit.image) }}" alt="" class="card-img-top">
                            </a>
                            <a href="#" class="add-to-favourite"><i class="far fa-heart icon-change"></i></a>
                        </div>
                        <div class="card-title product-title"> ðŸŒŸ{{ produit.nom }} </div>
                        <div class="product-price">{{ produit.prix }} MAD </div>
                        <a href="{{ path('shopping') }}" class="btn btn-primary add-to-cart"
                            data-url="{{ path('add_to_cart',{'id':produit.id ,'quantity':1}) }}"><i
                                class="fas fa-cart-plus"></i> Ajouter au
                            panier</a>
                    </div>
                </div>
                {% endfor %}


            </div>

        </div>
        <!--Marques-->
    </section>


    <!--*****************************************************Marques**************************************************** -->


    <section class="marques-product" id="marques-product">
        <header>
            <h1 class="title-home"> .......Marques....... </h1>
        </header>

        <div class="container">
            <div class="row new-products">
                {% for fournisseur  in fournissueurs %}
                <div class="col-sm-3 card single-product ">
                    <div class="card-body">
                        <div class="product-image ">
                            <a href="{{ path('show_marque', {'slug': fournisseur.slug }) }}">
                                <img src="{{ asset('/brows_file/' ~ fournisseur.image) }}" alt=""
                                    class="card-img-top"></a>
                            <div class="card-title product-title"> {{ fournisseur.nom }} </div>
                            <a href="#" class="add-to-favourite"></a>
                        </div>

                    </div>
                </div>
                <!--END SINGLE PRODUCTS-->
                {% endfor %}
            </div>

        </div>
    </section>
    {% endblock %}
    {% block javascripts %}
    <script>
        // Add to cart 
        $('.add-to-cart').click(function (e) {
            var url = $(this).data("url");
            e.preventDefault();
            $.post(url, function (data) {
                JSON.stringify(data);
                console.log(data);
                if (data.status == 'ok') {
                    $('#totalSum').text(data.totalsum);

                } else {}
            });

        });

    </script>

    {% endblock %}
